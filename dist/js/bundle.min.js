!function e(t,o,n){function a(r,p){if(!o[r]){if(!t[r]){var s="function"==typeof require&&require;if(!p&&s)return s(r,!0);if(l)return l(r,!0);throw new Error("Cannot find module '"+r+"'")}var c=o[r]={exports:{}};t[r][0].call(c.exports,function(e){var o=t[r][1][e];return a(o?o:e)},c,c.exports,e,t,o,n)}return o[r].exports}for(var l="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(e,t,o){!function(e){e.__env=e.__env||{},e.__env.apiBaseUrl="http://localhost:59632",e.__env.baseUrl="/src/",e.__env.enableDebug=!0}(this),console.log("APP LOADED SUCCESFULLY!");var n;!function(){n=angular.module("app",["ngRoute"]),n.controller("MainController",["$rootScope",function(e){this.appTitle="Employee App - AngularJS",e.alertHandler={generated:!1,type:"success",message:"",showLink:!1,linkText:"",linkRef:"/src/#!/view-employee"},e.showNotification=function(t,o,n,a,l,r){e.alertHandler.generated=t,e.alertHandler.type=o,e.alertHandler.message=n,e.alertHandler.showLink=a,e.alertHandler.linkText=l,e.alertHandler.linkRef=r},e.closeNotification=function(){e.alertHandler.generated=!1,e.alertHandler.showLink=!1},e.departmentData=[{text:"select department",value:""},{text:"Production",value:"Production"},{text:"Research and Development (often abbreviated to RnD)",value:"RnD"},{text:"Purchasing",value:"Purchasing"},{text:"Marketing (including the selling function)",value:"Marketing"},{text:"Human Resource Management",value:"HRD"},{text:"Accounting and Finance",value:"Accounting and Finance"}]}])}();var a={};window&&Object.assign(a,window.__env),n.constant("__env",a),n.config(["$routeProvider","$locationProvider","__env",function(e,t,o){console.log("routeProvider---------------",e),console.log("__env---------------",o),t.html5Mode(!0),e.when("/",{redirectTo:"/view-employee"}).when("/view-employee",{templateUrl:"views/employees/employee-list.html",controller:"getEmployeesControllers"}).when("/add-employee",{templateUrl:"views/employees/add-employee.html",controller:"addEmployeesControllers"}).when("/update-employee/:id",{templateUrl:"views/employees/update-employee.html",controller:"updateEmployeesControllers"}).otherwise({redirectTo:function(){return console.error("This is not a valid url!"),"/src/"}})}]),n.controller("getEmployeesControllers",["$scope","$rootScope","$location","$route","employeesServices",function(e,t,o,n,a){var l;a.getEmployees().then(function(t){e.employees=t.data,angular.element(document).ready(function(){l=$("#emp-list-tbl").DataTable({responsive:!0,order:[[0,"desc"]],columnDefs:[{targets:-1,data:null,defaultContent:"<button type='button' onclick='angular.element(this).scope().updateEmployee(this)' class='btn btn-success update-emp mr-2'>Update</button><button type='button' onclick='angular.element(this).scope().deleteEmployee(this)' class='btn btn-danger delete-emp'>Delete</button>"}]})})},function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.log("Server error in getEmployees : ",e)})["catch"](function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.error("Error in getEmployees : ",e)}),e.updateEmployee=function(n){var a=l.row($(n).parents("tr")).data();t.empUpdateTempData=a,o.path("/update-employee/"+a[0]),e.$apply()},e.deleteEmployee=function(e){var r=l.row($(e).parents("tr")).data();confirm("Are you sure you want to delete '"+r[1]+"' record?")&&a.deleteEmployee(r[0]).then(function(e){console.log("deleteEmployee success response : ",e),t.showNotification(!0,"alert-success","Employee data deleted successfully.",!1,"",""),o.path("/view-employee"),n.reload()},function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.log("Server error in deleteEmployee : ",e)})["catch"](function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.error("Error in deleteEmployee : ",e)})}}]),n.controller("addEmployeesControllers",["$scope","$rootScope","$location","employeesServices",function(e,t,o,n){e.departmentData=t.departmentData,e.addEmployee=function(){console.log("add scope :: ",e.emp),n.addEmployee(e.emp).then(function(e){console.log("addEmployee success response : ",e),t.showNotification(!0,"alert-success","Employee data added successfully.",!0,"Add More","/src/#!/add-employee/"),o.path("/view-employee")},function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.log("Server error in addEmployee : ",e)})["catch"](function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.error("Error in addEmployee : ",e)})}}]),n.controller("updateEmployeesControllers",["$scope","$rootScope","$location","employeesServices",function(e,t,o,n){e.departmentData=t.departmentData,e.emp={},e.empID=t.empUpdateTempData[0],e.emp.name=t.empUpdateTempData[1],e.emp.salary=parseInt(t.empUpdateTempData[2]),e.emp.department=t.empUpdateTempData[3],console.log("updateEmployeesControllers $scope",e),console.log("$rootScope.empUpdateTempData",t.empUpdateTempData),e.updateEmployee=function(){e.emp.id=e.empID,console.log("update scope :: ",e.emp),n.updateEmployee(e.empID,e.emp).then(function(n){console.log("updateEmployee success response : ",n),t.empUpdateTempData[0]=e.empID,t.empUpdateTempData[1]=e.emp.name,t.empUpdateTempData[2]=e.emp.salary,t.empUpdateTempData[3]=e.emp.department,t.showNotification(!0,"alert-success","Employee data updated successfully.",!0,"Update Again","/src/#!/update-employee/"+e.empID),o.path("/view-employee")},function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.log("Server error in updateEmployee : ",e)})["catch"](function(e){t.showNotification(!0,"alert-danger",e,!1,"",""),console.error("Error in updateEmployee : ",e)})}}]),n.service("employeesServices",["$http","__env",function(e,t){this.getEmployees=function(){return console.log("getEmployees __env : ",t),e({url:"http://localhost:59632/api/v1/employees",method:"GET"})},this.deleteEmployee=function(t){return e({url:"http://localhost:59632/api/v1/employees/"+t,method:"DELETE"})},this.addEmployee=function(t){return e({url:"http://localhost:59632/api/v1/employees/",method:"POST",data:t})},this.updateEmployee=function(t,o){return e({url:"http://localhost:59632/api/v1/employees/"+t,method:"PUT",data:o})}}])},{}]},{},[1]);